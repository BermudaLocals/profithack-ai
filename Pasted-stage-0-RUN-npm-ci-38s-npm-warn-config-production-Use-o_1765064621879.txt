stage-0
RUN npm ci
38s
npm warn config production Use `--omit=dev` instead.
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: 'awaitqueue@3.3.0',
npm warn EBADENGINE   required: { node: '>=20' },
npm warn EBADENGINE   current: { node: 'v18.20.5', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: 'fake-mediastreamtrack@2.2.1',
npm warn EBADENGINE   required: { node: '>=20' },
npm warn EBADENGINE   current: { node: 'v18.20.5', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: 'h264-profile-level-id@2.3.1',
npm warn EBADENGINE   required: { node: '>=20' },
npm warn EBADENGINE   current: { node: 'v18.20.5', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: 'mediasoup@3.19.3',
npm warn EBADENGINE   required: { node: '>=20' },
npm warn EBADENGINE   current: { node: 'v18.20.5', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: 'mediasoup-client@3.17.1',
npm warn EBADENGINE   required: { node: '>=20' },
npm warn EBADENGINE   current: { node: 'v18.20.5', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
npm warn deprecated phantomjs-prebuilt@2.1.16: this package is now deprecated
npm warn deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm warn deprecated har-validator@5.1.5: this library is no longer supported
npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.
npm error code 1
npm error path /app/node_modules/phantomjs-prebuilt
npm error command failed
npm error command sh -c node install.js
npm error PhantomJS not found on PATH
npm error Downloading https://github.com/Medium/phantomjs/releases/download/v2.1.1/phantomjs-2.1.1-linux-x86_64.tar.bz2
npm error Saving to /tmp/phantomjs/phantomjs-2.1.1-linux-x86_64.tar.bz2
npm error Receiving...
npm error
npm error Received 22866K total.
npm error Extracting tar contents (via spawned process)
npm error Error extracting archive
npm error Phantom installation failed Error: Command failed: tar jxf /tmp/phantomjs/phantomjs-2.1.1-linux-x86_64.tar.bz2
npm error tar (child): bzip2: Cannot exec: No such file or directory
npm error tar (child): Error is not recoverable: exiting now
npm error tar: Child returned status 2
npm error tar: Error is not recoverable: exiting now
npm error
npm error     at ChildProcess.exithandler (node:child_process:422:12)
npm error     at ChildProcess.emit (node:events:517:28)
npm error     at maybeClose (node:internal/child_process:1098:16)
npm error     at Socket.<anonymous> (node:internal/child_process:450:11)
npm error     at Socket.emit (node:events:517:28)
npm error     at Pipe.<anonymous> (node:net:350:12) {
npm error   code: 2,
npm error   killed: false,
npm error   signal: null,
npm error   cmd: 'tar jxf /tmp/phantomjs/phantomjs-2.1.1-linux-x86_64.tar.bz2'
npm error } Error: Command failed: tar jxf /tmp/phantomjs/phantomjs-2.1.1-linux-x86_64.tar.bz2
npm error tar (child): bzip2: Cannot exec: No such file or directory
npm error tar (child): Error is not recoverable: exiting now
npm error tar: Child returned status 2
npm error tar: Error is not recoverable: exiting now
npm error
npm error     at ChildProcess.exithandler (node:child_process:422:12)
npm error     at ChildProcess.emit (node:events:517:28)
npm error     at maybeClose (node:internal/child_process:1098:16)
npm error     at Socket.<anonymous> (node:internal/child_process:450:11)
npm error     at Socket.emit (node:events:517:28)
npm error     at Pipe.<anonymous> (node:net:350:12)
npm error A complete log of this run can be found in: /root/.npm/_logs/2025-12-06T23_40_22_831Z-debug-0.log
Dockerfile:26
-------------------
24 |     ENV NIXPACKS_PATH=/app/node_modules/.bin:$NIXPACKS_PATH
25 |     COPY . /app/.
26 | >>> RUN --mount=type=cache,id=s/428a6a9d-eb54-4a6b-97da-02275a96d51c-/root/npm,target=/root/.npm npm ci
27 |
28 |     # build phase
-------------------
ERROR: failed to build: failed to solve: process "/bin/bash -ol pipefail -c npm ci" did not complete successfully: exit code: 1
Error: Docker build failed